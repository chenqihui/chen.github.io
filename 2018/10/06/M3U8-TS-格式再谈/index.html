<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>M3U8 &amp; TS 格式再谈 | RyuukuSpace</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;我们已经了解到 m3u8 其实是一个文件，是 HLS 协议实现点播 &amp; 直播的，还有 TS 文件。这里还有一篇讲解 AVPlayer 的，等编辑完再更新地址。 理论 HTTP Live Streaming (HLS) sends audio and video over HTTP from an ordin">
<meta property="og:type" content="article">
<meta property="og:title" content="M3U8 &amp; TS 格式再谈">
<meta property="og:url" content="http://chenqihui.github.io/2018/10/06/M3U8-TS-%E6%A0%BC%E5%BC%8F%E5%86%8D%E8%B0%88/index.html">
<meta property="og:site_name" content="RyuukuSpace">
<meta property="og:description" content="&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;我们已经了解到 m3u8 其实是一个文件，是 HLS 协议实现点播 &amp; 直播的，还有 TS 文件。这里还有一篇讲解 AVPlayer 的，等编辑完再更新地址。 理论 HTTP Live Streaming (HLS) sends audio and video over HTTP from an ordin">
<meta property="og:locale">
<meta property="og:image" content="https://anakinpublicspace-1253727175.cos.ap-chengdu.myqcloud.com/blog/ts.png">
<meta property="article:published_time" content="2018-10-06T08:54:35.000Z">
<meta property="article:modified_time" content="2020-08-02T18:16:51.463Z">
<meta property="article:author" content="AnakinChen">
<meta property="article:tag" content="Swift">
<meta property="article:tag" content="MacOS">
<meta property="article:tag" content="M3U8">
<meta property="article:tag" content="TS">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://anakinpublicspace-1253727175.cos.ap-chengdu.myqcloud.com/blog/ts.png">
  
    <link rel="alternate" href="/atom.xml" title="RyuukuSpace" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.0.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">RyuukuSpace</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://chenqihui.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-M3U8-TS-格式再谈" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/10/06/M3U8-TS-%E6%A0%BC%E5%BC%8F%E5%86%8D%E8%B0%88/" class="article-date">
  <time datetime="2018-10-06T08:54:35.000Z" itemprop="datePublished">2018-10-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E9%9F%B3%E8%A7%86%E9%A2%91/">音视频</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      M3U8 &amp; TS 格式再谈
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;我们已经了解到 m3u8 其实是一个文件，是 HLS 协议实现点播 &amp; 直播的，还有 TS 文件。这里还有一篇讲解 AVPlayer 的，等编辑完再更新地址。</p>
<h4 id="理论"><a href="#理论" class="headerlink" title="理论"></a>理论</h4><blockquote>
<p>HTTP Live Streaming (HLS) sends audio and video over HTTP from an ordinary web server for playback on iOS-based devices—including iPhone, iPad, iPod touch, and Apple TV—and on desktop computers (macOS). Using the same protocol that powers the web, HLS deploys content using ordinary web servers and content delivery networks. HLS is designed for reliability and dynamically adapts to network conditions by optimizing playback for the available speed of wired and wireless connections.</p>
<p>HLS supports the following:</p>
<ul>
<li>Live broadcasts and prerecorded content (video on demand, or VOD)</li>
<li>Multiple alternate streams at different bit rates</li>
<li>Intelligent switching of streams in response to network bandwidth changes</li>
<li>Media encryption and user authentication</li>
</ul>
</blockquote>
<a id="more"></a>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HLS 的了解主要参考苹果文档，包括其协议、格式、部署等</p>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://developer.apple.com/streaming/">HTTP Live Streaming (HLS) - Apple Developer</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.apple.com/library/archive/documentation/NetworkingInternet/Conceptual/StreamingMediaGuide/Introduction/Introduction.html#//apple_ref/doc/uid/TP40008332">HTTP Live Streaming Overview</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/xiaojun111111/article/details/52102454">HLS 实现点播和直播时，M3U8 文件的不同</a></p>
</li>
</ul>
<h4 id="制作"><a href="#制作" class="headerlink" title="制作"></a>制作</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;先了解下如何制作 m3u8，有以下几种常用的方式</p>
<h5 id="ffmpeg"><a href="#ffmpeg" class="headerlink" title="ffmpeg"></a>ffmpeg</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 1、先用 ffmpeg 把 abc.mp4 文件转换为 abc.ts 文件：</span><br><span class="line">ffmpeg -y -i abc.mp4 -vcodec copy -acodec copy -vbsf h264_mp4toannexb abc.ts</span><br><span class="line"></span><br><span class="line"># 2、再用 ffmpeg 把 abc.ts 文件切片并生成 playlist.m3u8 文件，5秒一个切片：</span><br><span class="line">ffmpeg -i abc.ts -c copy -map 0 -f segment -segment_list playlist.m3u8 -segment_time 5 abc%03d.ts</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 1</span><br><span class="line">ffmpeg version 4.0 Copyright (c) 2000-2018 the FFmpeg developers</span><br><span class="line">  built with Apple LLVM version 9.1.0 (clang-902.0.39.1)</span><br><span class="line">  configuration: --prefix&#x3D;&#x2F;usr&#x2F;local&#x2F;Cellar&#x2F;ffmpeg&#x2F;4.0 --enable-shared --enable-pthreads --enable-version3 --enable-hardcoded-tables --enable-avresample --cc&#x3D;clang --host-cflags&#x3D; --host-ldflags&#x3D; --enable-gpl --enable-libmp3lame --enable-libx264 --enable-libxvid --enable-opencl --enable-videotoolbox --disable-lzma</span><br><span class="line">  libavutil      56. 14.100 &#x2F; 56. 14.100</span><br><span class="line">  libavcodec     58. 18.100 &#x2F; 58. 18.100</span><br><span class="line">  libavformat    58. 12.100 &#x2F; 58. 12.100</span><br><span class="line">  libavdevice    58.  3.100 &#x2F; 58.  3.100</span><br><span class="line">  libavfilter     7. 16.100 &#x2F;  7. 16.100</span><br><span class="line">  libavresample   4.  0.  0 &#x2F;  4.  0.  0</span><br><span class="line">  libswscale      5.  1.100 &#x2F;  5.  1.100</span><br><span class="line">  libswresample   3.  1.100 &#x2F;  3.  1.100</span><br><span class="line">  libpostproc    55.  1.100 &#x2F; 55.  1.100</span><br><span class="line">Input #0, mov,mp4,m4a,3gp,3g2,mj2, from &#39;hehe.mp4&#39;:</span><br><span class="line">  Metadata:</span><br><span class="line">    major_brand     : isom</span><br><span class="line">    minor_version   : 512</span><br><span class="line">    compatible_brands: isomiso2avc1mp41</span><br><span class="line">    encoder         : Lavf56.40.101</span><br><span class="line">  Duration: 00:04:03.53, start: 0.000000, bitrate: 837 kb&#x2F;s</span><br><span class="line">    Stream #0:0(und): Video: h264 (High) (avc1 &#x2F; 0x31637661), yuv420p, 960x544, 768 kb&#x2F;s, 25 fps, 25 tbr, 12800 tbn, 50 tbc (default)</span><br><span class="line">    Metadata:</span><br><span class="line">      handler_name    : VideoHandler</span><br><span class="line">    Stream #0:1(eng): Audio: aac (HE-AAC) (mp4a &#x2F; 0x6134706D), 44100 Hz, stereo, fltp, 64 kb&#x2F;s (default)</span><br><span class="line">    Metadata:</span><br><span class="line">      handler_name    : SoundHandler</span><br><span class="line">Output #0, mpegts, to &#39;abc.ts&#39;:</span><br><span class="line">  Metadata:</span><br><span class="line">    major_brand     : isom</span><br><span class="line">    minor_version   : 512</span><br><span class="line">    compatible_brands: isomiso2avc1mp41</span><br><span class="line">    encoder         : Lavf58.12.100</span><br><span class="line">    Stream #0:0(und): Video: h264 (High) (avc1 &#x2F; 0x31637661), yuv420p, 960x544, q&#x3D;2-31, 768 kb&#x2F;s, 25 fps, 25 tbr, 90k tbn, 12800 tbc (default)</span><br><span class="line">    Metadata:</span><br><span class="line">      handler_name    : VideoHandler</span><br><span class="line">    Stream #0:1(eng): Audio: aac (HE-AAC) (mp4a &#x2F; 0x6134706D), 44100 Hz, stereo, fltp, 64 kb&#x2F;s (default)</span><br><span class="line">    Metadata:</span><br><span class="line">      handler_name    : SoundHandler</span><br><span class="line">Stream mapping:</span><br><span class="line">  Stream #0:0 -&gt; #0:0 (copy)</span><br><span class="line">  Stream #0:1 -&gt; #0:1 (copy)</span><br><span class="line">Press [q] to stop, [?] for help</span><br><span class="line">frame&#x3D; 6088 fps&#x3D;0.0 q&#x3D;-1.0 Lsize&#x3D;   27544kB time&#x3D;00:04:03.48 bitrate&#x3D; 926.7kbits&#x2F;s speed&#x3D;1.65e+03x</span><br><span class="line">video:22847kB audio:1903kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 11.286891%</span><br><span class="line">    </span><br><span class="line">&#x2F;&#x2F; 2</span><br><span class="line">ffmpeg version 4.0 Copyright (c) 2000-2018 the FFmpeg developers</span><br><span class="line">  built with Apple LLVM version 9.1.0 (clang-902.0.39.1)</span><br><span class="line">  configuration: --prefix&#x3D;&#x2F;usr&#x2F;local&#x2F;Cellar&#x2F;ffmpeg&#x2F;4.0 --enable-shared --enable-pthreads --enable-version3 --enable-hardcoded-tables --enable-avresample --cc&#x3D;clang --host-cflags&#x3D; --host-ldflags&#x3D; --enable-gpl --enable-libmp3lame --enable-libx264 --enable-libxvid --enable-opencl --enable-videotoolbox --disable-lzma</span><br><span class="line">  libavutil      56. 14.100 &#x2F; 56. 14.100</span><br><span class="line">  libavcodec     58. 18.100 &#x2F; 58. 18.100</span><br><span class="line">  libavformat    58. 12.100 &#x2F; 58. 12.100</span><br><span class="line">  libavdevice    58.  3.100 &#x2F; 58.  3.100</span><br><span class="line">  libavfilter     7. 16.100 &#x2F;  7. 16.100</span><br><span class="line">  libavresample   4.  0.  0 &#x2F;  4.  0.  0</span><br><span class="line">  libswscale      5.  1.100 &#x2F;  5.  1.100</span><br><span class="line">  libswresample   3.  1.100 &#x2F;  3.  1.100</span><br><span class="line">  libpostproc    55.  1.100 &#x2F; 55.  1.100</span><br><span class="line">Input #0, mpegts, from &#39;abc.ts&#39;:</span><br><span class="line">  Duration: 00:04:03.52, start: 1.480000, bitrate: 926 kb&#x2F;s</span><br><span class="line">  Program 1</span><br><span class="line">    Metadata:</span><br><span class="line">      service_name    : Service01</span><br><span class="line">      service_provider: FFmpeg</span><br><span class="line">    Stream #0:0[0x100]: Video: h264 (High) ([27][0][0][0] &#x2F; 0x001B), yuv420p(progressive), 960x544, 25 fps, 25 tbr, 90k tbn, 50 tbc</span><br><span class="line">    Stream #0:1[0x101](eng): Audio: aac (HE-AAC) ([15][0][0][0] &#x2F; 0x000F), 44100 Hz, stereo, fltp, 63 kb&#x2F;s</span><br><span class="line">[segment @ 0x7ffbae829a00] Opening &#39;abc000.ts&#39; for writing</span><br><span class="line">Output #0, segment, to &#39;abc%03d.ts&#39;:</span><br><span class="line">  Metadata:</span><br><span class="line">    encoder         : Lavf58.12.100</span><br><span class="line">    Stream #0:0: Video: h264 (High) ([27][0][0][0] &#x2F; 0x001B), yuv420p(progressive), 960x544, q&#x3D;2-31, 25 fps, 25 tbr, 90k tbn, 25 tbc</span><br><span class="line">    Stream #0:1(eng): Audio: aac (HE-AAC) ([15][0][0][0] &#x2F; 0x000F), 44100 Hz, stereo, fltp, 63 kb&#x2F;s</span><br><span class="line">Stream mapping:</span><br><span class="line">  Stream #0:0 -&gt; #0:0 (copy)</span><br><span class="line">  Stream #0:1 -&gt; #0:1 (copy)</span><br><span class="line">Press [q] to stop, [?] for help</span><br><span class="line">[segment @ 0x7ffbae829a00] Opening &#39;playlist.m3u8.tmp&#39; for writing</span><br><span class="line">[segment @ 0x7ffbae829a00] Opening &#39;abc001.ts&#39; for writing</span><br><span class="line">[segment @ 0x7ffbae829a00] Opening &#39;playlist.m3u8.tmp&#39; for writing</span><br><span class="line">[segment @ 0x7ffbae829a00] Opening &#39;abc002.ts&#39; for writing</span><br><span class="line">[segment @ 0x7ffbae829a00] Opening &#39;playlist.m3u8.tmp&#39; for writing</span><br><span class="line">[segment @ 0x7ffbae829a00] Opening &#39;abc003.ts&#39; for writing</span><br><span class="line">[segment @ 0x7ffbae829a00] Opening &#39;playlist.m3u8.tmp&#39; for writing</span><br><span class="line">frame&#x3D; 6088 fps&#x3D;0.0 q&#x3D;-1.0 Lsize&#x3D;N&#x2F;A time&#x3D;00:04:03.48 bitrate&#x3D;N&#x2F;A speed&#x3D;1.35e+03x</span><br><span class="line">video:22883kB audio:1938kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: unknown</span><br></pre></td></tr></table></figure>

<p>参考：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/avsuper/article/details/72910907">ffmpeg对mp4文件进行ts切片并生成m3u8文件</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/ChouDanDan/p/5566335.html">利用ffmpeg将MP4文件切成ts和m3u8</a></li>
</ul>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FFmpeg 切片  </p>
<ul>
<li><a target="_blank" rel="noopener" href="http://ffmpeg.org/ffmpeg-formats.html#segment_002c-stream_005fsegment_002c-ssegment">FFmpeg Formats Documentation</a></li>
</ul>
<h5 id="mediastreamsegmenter"><a href="#mediastreamsegmenter" class="headerlink" title="mediastreamsegmenter"></a>mediastreamsegmenter</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">which mediastreamsegmenter</span><br></pre></td></tr></table></figure>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;通过如上校验是否安装 mediastreamsegmenter，如果没有输出 ‘/usr/local/bin/mediastreamsegmenter’，则可以通过 <a target="_blank" rel="noopener" href="https://developer.apple.com/download/more/">More Downloads for Apple Developers</a> 搜索 &amp; 下载 &amp; 安装（这里本人安装时候要求系统为 10.13.4 以上）</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;然后使用 <a target="_blank" rel="noopener" href="http://www.videolan.org/vlc/">VLC media player</a> + mediastreamsegmenter 进行切割，但是进行切割时候都出现 error，如下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Sep 20 2018 11:47:37.447: audio pid set at c8</span><br><span class="line">Sep 20 2018 11:47:37.447: video pid set at 64</span><br><span class="line">Sep 20 2018 11:47:39.923: error in pid c8 (audio) - cc value should be 11 is 1</span><br><span class="line">Sep 20 2018 11:47:39.923: error in pid 64 (video) - cc value should be 1 is 2</span><br><span class="line">Sep 20 2018 11:47:39.923: error with dts last 20870876 now 65038674</span><br><span class="line">Sep 20 2018 11:47:39.924: average bit rate is  0.00 bits&#x2F;sec - max file bit rate is  0.00 bits&#x2F;sec</span><br><span class="line">Abort trap: 6</span><br></pre></td></tr></table></figure>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;还需要后续测试，而参考文章里面有使用另一个工具 <strong>XAMPP</strong> 来推 HLS 流。</p>
<p>参考</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/7902a54c25f0">HLS（HTTP Live Streaming）视频直播技术实战 - 简书</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/musou_ldns/article/details/7493346">Mac OS环境下流媒体分割工具 mediastreamsegmenter 的简单使用</a></li>
</ul>
<h5 id="mediafilesegmenter"><a href="#mediafilesegmenter" class="headerlink" title="mediafilesegmenter"></a>mediafilesegmenter</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;同样来自工具 mediastreamsegmenter，下载参考上述 <a target="_blank" rel="noopener" href="https://developer.apple.com/download/more/">More Downloads for Apple Developers</a>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mediafilesegmenter -B TEST -i test.m3u8 -t 10 -f .&#x2F;video  ~&#x2F;Movies&#x2F;test.mp4</span><br><span class="line"></span><br><span class="line">-B 切片名</span><br><span class="line">-i m3u8文件</span><br><span class="line">-t 时间间隔</span><br><span class="line">-f ts切片存放位置</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Sep 20 2018 11:59:30.144: Processing file &#x2F;Users&#x2F;chen&#x2F;Desktop&#x2F;mm&#x2F;good.mp4</span><br><span class="line">Sep 20 2018 11:59:30.160: track 2 of &#x2F;Users&#x2F;chen&#x2F;Desktop&#x2F;mm&#x2F;good.mp4 contains edit list that the media doesn&#39;t start at beginning; this may cause problems in lip sync</span><br><span class="line">Sep 20 2018 11:59:30.165: Finalized &#x2F;Users&#x2F;chen&#x2F;Desktop&#x2F;mm&#x2F;stream&#x2F;hehe&#x2F;TEST0.ts</span><br><span class="line">Sep 20 2018 11:59:30.166: Wrote full file size 557984 to &#x2F;Users&#x2F;chen&#x2F;Desktop&#x2F;mm&#x2F;stream&#x2F;hehe&#x2F;TEST0.ts</span><br><span class="line">Sep 20 2018 11:59:30.166: segment bitrate 892.77 kbits&#x2F;sec is new max</span><br><span class="line">Sep 20 2018 11:59:30.170: Finalized &#x2F;Users&#x2F;chen&#x2F;Desktop&#x2F;mm&#x2F;stream&#x2F;hehe&#x2F;TEST1.ts</span><br><span class="line">Sep 20 2018 11:59:30.172: Wrote full file size 489928 to &#x2F;Users&#x2F;chen&#x2F;Desktop&#x2F;mm&#x2F;stream&#x2F;hehe&#x2F;TEST1.ts</span><br><span class="line">Sep 20 2018 11:59:30.172: segment does not contain sync frame</span><br><span class="line">Sep 20 2018 11:59:30.175: Finalized &#x2F;Users&#x2F;chen&#x2F;Desktop&#x2F;mm&#x2F;stream&#x2F;hehe&#x2F;TEST2.ts</span><br><span class="line">Sep 20 2018 11:59:30.175: Wrote full file size 241768 to &#x2F;Users&#x2F;chen&#x2F;Desktop&#x2F;mm&#x2F;stream&#x2F;hehe&#x2F;TEST2.ts</span><br><span class="line">Sep 20 2018 11:59:30.175: segment does not contain sync frame</span><br><span class="line">Sep 20 2018 11:59:30.175: average bit rate is 814.53 kbits&#x2F;sec - max file bit rate is 892.77 kbits&#x2F;sec</span><br></pre></td></tr></table></figure>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;此命令还为新增与媒体文件同名的 plist &amp; iframe_index.m3u8，plist。mediafilesegmenter 与 mediastreamsegmenter 区别主要是一个是针对文件，一个针对的是 UDP 的实时 HLS 流。</p>
<blockquote>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Media Stream Segmenter（mediastreamsegmenter）通过UDP网络连接或 stdin 接收 MPEG-2 传输流，并将其分成一系列持续时间相同的小媒体段。然后，它会创建一个索引文件，其中包含对各个媒体段的引用。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;媒体文件分段器（mediafilesegmenter）将 MOV，MP4，M4V，M4A 或 MP3 文件分成媒体段并创建索引文件。可以使用几乎任何Web服务器基础结构部署索引文件和媒体段，以便流式传输到 iOS，macOS 和 tvOS。</p>
</blockquote>
<p>参考：</p>
<ul>
<li><a target="_blank" rel="noopener" href="http://www.lnmcc.net/page21/">SJIE · CodeIt!</a></li>
<li><a target="_blank" rel="noopener" href="http://xpp888.blog.163.com/blog/static/14730596320126211424075/">Mac OS环境下媒体文件分割工具mediafilesegmenter的简单使用</a></li>
</ul>
<h5 id="GStreamer-amp-Gstreamill"><a href="#GStreamer-amp-Gstreamill" class="headerlink" title="GStreamer &amp; Gstreamill"></a>GStreamer &amp; Gstreamill</h5><blockquote>
<p>Gstreamill 是一个支持 hls 输出的，基于 gstreamer 的实时编码器。</p>
</blockquote>
<h4 id="播放测试"><a href="#播放测试" class="headerlink" title="播放测试"></a>播放测试</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;把切割成功的 m3u8 &amp; ts 源文件放在 Mac 的 WebServer -&gt; Documents 目录下，并开启 Apache 后，即可使用 Safari 或者 QuickTime（使用“文件”&gt;“打开位置…”或“⌘L”打开URL）等播放器来测试播放。 </p>
<h4 id="解析"><a href="#解析" class="headerlink" title="解析"></a>解析</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;这里主要解析 m3u8 描述文件 &amp; ts 媒体文件，mp4 暂忽略</p>
<p><img src="https://anakinpublicspace-1253727175.cos.ap-chengdu.myqcloud.com/blog/ts.png" alt="TS"></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;源码 Demo <a target="_blank" rel="noopener" href="https://github.com/chenqihui/QHFlvParserMan">QHFlvParserMan</a> 是采用 Swift 实现的，内容可结合此工程进行了解。</p>
<h5 id="M3U8-标签"><a href="#M3U8-标签" class="headerlink" title="M3U8 标签"></a>M3U8 标签</h5><p>这个在 AVPlayer 那里也有简单介绍过</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; ffmpeg 输出的</span><br><span class="line">#EXTM3U</span><br><span class="line">#EXT-X-VERSION:3</span><br><span class="line">#EXT-X-MEDIA-SEQUENCE:0</span><br><span class="line">#EXT-X-ALLOW-CACHE:YES</span><br><span class="line">#EXT-X-TARGETDURATION:13</span><br><span class="line">#EXTINF:12.933333,</span><br><span class="line">abc000.ts</span><br><span class="line">#EXT-X-ENDLIST</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; mediafilesegmenter</span><br><span class="line">#EXTM3U</span><br><span class="line">#EXT-X-TARGETDURATION:5</span><br><span class="line">#EXT-X-VERSION:3</span><br><span class="line">#EXT-X-MEDIA-SEQUENCE:0</span><br><span class="line">#EXT-X-PLAYLIST-TYPE:VOD</span><br><span class="line">#EXTINF:5.00000,    </span><br><span class="line">#EXT-X-BITRATE:893</span><br><span class="line">TEST0.ts</span><br><span class="line">#EXTINF:5.00000,    </span><br><span class="line">#EXT-X-BITRATE:784</span><br><span class="line">TEST1.ts</span><br><span class="line">#EXTINF:2.67767,    </span><br><span class="line">#EXT-X-BITRATE:722</span><br><span class="line">TEST2.ts</span><br><span class="line">#EXT-X-ENDLIST</span><br></pre></td></tr></table></figure>
<p>它们的共同字段是</p>
<p>而在使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;devimages.apple.com&#x2F;iphone&#x2F;samples&#x2F;bipbop&#x2F;bipbopall.m3u8</span><br></pre></td></tr></table></figure>

<p>它的 m3u8 文件如下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#EXTM3U</span><br><span class="line">#EXT-X-STREAM-INF:PROGRAM-ID&#x3D;1, BANDWIDTH&#x3D;200000</span><br><span class="line">gear1&#x2F;prog_index.m3u8</span><br><span class="line">#EXT-X-STREAM-INF:PROGRAM-ID&#x3D;1, BANDWIDTH&#x3D;311111</span><br><span class="line">gear2&#x2F;prog_index.m3u8</span><br><span class="line">#EXT-X-STREAM-INF:PROGRAM-ID&#x3D;1, BANDWIDTH&#x3D;484444</span><br><span class="line">gear3&#x2F;prog_index.m3u8</span><br><span class="line">#EXT-X-STREAM-INF:PROGRAM-ID&#x3D;1, BANDWIDTH&#x3D;737777</span><br><span class="line">gear4&#x2F;prog_index.m3u8</span><br></pre></td></tr></table></figure>

<p>总结：</p>
<ul>
<li>EXTM3U：所有 HLS 播放列表必须以此标记开头</li>
<li>EXT-X-ENDLIST：区分是点播还是直播</li>
<li>二级目录是 绝对路径还是相对路径</li>
<li>二级目录是 ts 文件 还是 m3u8</li>
<li>当二级目录是 m3u8 时，需要再次访问获取最终的 ts，而直播就是通过这种不断刷新 m3u8 来实现播放</li>
</ul>
<p>参考：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/2ce402a485ca">HTTP Live Streaming (HLS) - 概念</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/jwzhangjie/article/details/9743971">流媒体开发之–HLS–M3U8解析(1)</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/jwzhangjie/article/details/9744027">流媒体开发之–HLS–M3U8解析(2): HLS草案</a></li>
</ul>
<h5 id="TS"><a href="#TS" class="headerlink" title="TS"></a>TS</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TS 文件的结构与 HLS 类似，一个个的分段结构。TS 是以 188字节 来分段。<br>每一段：TS层（Head + Pes层（Head + ES层）），TS层 的内容是通过 PID 值来标识的，主要内容包括：PAT表、PMT表、音频流、视频流。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;因此 TS 文件大致结构图如下：</p>
<table>
<thead>
<tr>
<th>TSHead</th>
<th align="center">PAT/PMT</th>
<th>Stuffing Bytes</th>
</tr>
</thead>
<tbody><tr>
<td>TSHead</td>
<td align="center">Adaptation Field</td>
<td>Pes1</td>
</tr>
<tr>
<td>TSHead</td>
<td align="center">\</td>
<td>Pes2 - Pes(N-1)</td>
</tr>
<tr>
<td>TSHead</td>
<td align="center">Adaptation Field</td>
<td>PesN</td>
</tr>
</tbody></table>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;如下参考里面有说明 TSHead、PAT、PMT、Adapt、PES、ES 等字段的内容。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;此处写出本人解码时遇到的几个点</p>
<ul>
<li>TSHead 的 payload_unit_start_indicator 对应 PAT &amp; PMT：在前4个字节后会有一个调整字节。所以实际数据应该为去除第一个字节后的数据。即上面数据中红色部分不属于有效数据包。而对于 Adapt &amp; 其他：0x01表示含有PSI或者PES头。所以解析 PAT/PMT 时需要通过此字段来判断是否空一个字节。</li>
<li>顺序查找，先是 PID为0 的 PAT，通过其 Programs 里面的 PID 查找 PMT，再又 PMT 里面的 Streams 来查找音视频数据。这也就是 <strong>“解析 ts 流要先找到 PAT 表，只要找到 PAT 就可以找到 PMT，然后就可以找到 音视频流 了”</strong> 的意思</li>
<li>在 PAT/PMT 遇到 section_length 这种 length 的解析，它是指后面数据的长度，即从解析出 length 的字节之后开始计算，如果length 的 Index 是 3（index 是从 0 开始的，即 length 是第四个字节），那么整个类型的实际数据长度则为 3 + 1 + length = len。</li>
<li>PMT 的 stream_type    ：流类型，标志是 Video 还是 Audio 还是其他数据，h.264编码 对应 0x1b，aac编码 对应 0x0f，mp3编码 对应 0x03</li>
<li>adaption 包含 PCR：Program Clock Reference，节目时钟参考，用于恢复出与编码端一致的系统时序时钟 STC（System Time Clock）。</li>
</ul>
<h5 id="ES"><a href="#ES" class="headerlink" title="ES"></a>ES</h5><p>(暂未解析)</p>
<p>参考：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/allnlei/article/details/53005350">hls 之 m3u8、ts 流格式详解</a></li>
<li><a target="_blank" rel="noopener" href="http://www.lnmcc.net/page21/">SJIE</a></li>
<li><a target="_blank" rel="noopener" href="http://www.cnblogs.com/doscho/p/7678579.html">TS 数据流分析学习</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/rongdeguoqian/article/details/18214627">从 TS 流到 PAT 和 PMT</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/occupy8/article/details/43115765">ts 文件格式解析</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/u013354805/article/details/51578457">TS 协议解析第一部分（PAT）</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/u013354805/article/details/51586086">TS 协议解析第二部分（PMT）</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/u013354805/article/details/51591229">TS 协议解析第三部分（PES）</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/u013354805/article/details/51683830">TS 协议解析第四部分（adaptation field）</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://chenqihui.github.io/2018/10/06/M3U8-TS-%E6%A0%BC%E5%BC%8F%E5%86%8D%E8%B0%88/" data-id="ckddx66i0000mhpugbao5dn2i" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/M3U8/" rel="tag">M3U8</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MacOS/" rel="tag">MacOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Swift/" rel="tag">Swift</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/TS/" rel="tag">TS</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/10/06/iOS-%E8%A1%A8%E5%8D%95%E5%BC%80%E5%8F%91-%E5%9F%BA%E7%A1%80%E7%AF%87/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          iOS 表单开发 基础篇
        
      </div>
    </a>
  
  
    <a href="/2018/09/16/iOS-%E5%8A%A8%E5%9B%BE%E6%92%AD%E6%94%BE-%E5%88%B6%E4%BD%9C%E5%90%88%E9%9B%86/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">iOS 动图播放 &amp; 制作合集</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Xcode/">Xcode</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Xcode/%E5%9F%BA%E7%A1%80/">基础</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/">iOS</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/%E5%9F%BA%E7%A1%80/">基础</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%85%B6%E4%BB%96/">其他</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%8A%A8%E5%9B%BE/">动图</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%8A%A8%E5%9B%BE/%E9%9F%B3%E8%A7%86%E9%A2%91/">音视频</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B7%A5%E5%85%B7/">工具</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/">软件工程</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%9F%B3%E8%A7%86%E9%A2%91/">音视频</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CocoaPods/" rel="tag">CocoaPods</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/FLV/" rel="tag">FLV</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Framework/" rel="tag">Framework</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GCD/" rel="tag">GCD</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Gif/" rel="tag">Gif</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/" rel="tag">Git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Github/" rel="tag">Github</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP/" rel="tag">HTTP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LivePhoto/" rel="tag">LivePhoto</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/M3U8/" rel="tag">M3U8</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MP4/" rel="tag">MP4</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MacOS/" rel="tag">MacOS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Markdown/" rel="tag">Markdown</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Objective-C/" rel="tag">Objective-C</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PDF/" rel="tag">PDF</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Socket/" rel="tag">Socket</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/String/" rel="tag">String</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Svga/" rel="tag">Svga</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Swift/" rel="tag">Swift</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TCP-UDP-IP/" rel="tag">TCP / UDP / IP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TS/" rel="tag">TS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UIButton/" rel="tag">UIButton</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UIImage/" rel="tag">UIImage</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UITextField/" rel="tag">UITextField</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UITextView/" rel="tag">UITextView</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UML/" rel="tag">UML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WebP/" rel="tag">WebP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WebSocket/" rel="tag">WebSocket</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/animation/" rel="tag">animation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/configure/" rel="tag">configure</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/layer/" rel="tag">layer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mask/" rel="tag">mask</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%8C%E5%80%BC%E5%8C%96/" rel="tag">二值化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8A%A8%E6%80%81%E5%BA%93/" rel="tag">动态库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8A%A8%E7%94%BB/" rel="tag">动画</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8E%92%E5%BA%8F/" rel="tag">排序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" rel="tag">数据结构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/" rel="tag">版本控制</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BB%84%E5%90%88%E7%89%B9%E6%95%88/" rel="tag">组合特效</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BD%91%E9%80%9F/" rel="tag">网速</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/CocoaPods/" style="font-size: 10px;">CocoaPods</a> <a href="/tags/FLV/" style="font-size: 10px;">FLV</a> <a href="/tags/Framework/" style="font-size: 10px;">Framework</a> <a href="/tags/GCD/" style="font-size: 12px;">GCD</a> <a href="/tags/Gif/" style="font-size: 10px;">Gif</a> <a href="/tags/Git/" style="font-size: 12px;">Git</a> <a href="/tags/Github/" style="font-size: 12px;">Github</a> <a href="/tags/HTTP/" style="font-size: 10px;">HTTP</a> <a href="/tags/LivePhoto/" style="font-size: 10px;">LivePhoto</a> <a href="/tags/M3U8/" style="font-size: 10px;">M3U8</a> <a href="/tags/MP4/" style="font-size: 10px;">MP4</a> <a href="/tags/MacOS/" style="font-size: 16px;">MacOS</a> <a href="/tags/Markdown/" style="font-size: 10px;">Markdown</a> <a href="/tags/Objective-C/" style="font-size: 10px;">Objective-C</a> <a href="/tags/PDF/" style="font-size: 10px;">PDF</a> <a href="/tags/Socket/" style="font-size: 10px;">Socket</a> <a href="/tags/String/" style="font-size: 10px;">String</a> <a href="/tags/Svga/" style="font-size: 10px;">Svga</a> <a href="/tags/Swift/" style="font-size: 20px;">Swift</a> <a href="/tags/TCP-UDP-IP/" style="font-size: 10px;">TCP / UDP / IP</a> <a href="/tags/TS/" style="font-size: 10px;">TS</a> <a href="/tags/UIButton/" style="font-size: 10px;">UIButton</a> <a href="/tags/UIImage/" style="font-size: 10px;">UIImage</a> <a href="/tags/UITextField/" style="font-size: 10px;">UITextField</a> <a href="/tags/UITextView/" style="font-size: 10px;">UITextView</a> <a href="/tags/UML/" style="font-size: 10px;">UML</a> <a href="/tags/WebP/" style="font-size: 10px;">WebP</a> <a href="/tags/WebSocket/" style="font-size: 10px;">WebSocket</a> <a href="/tags/animation/" style="font-size: 10px;">animation</a> <a href="/tags/configure/" style="font-size: 10px;">configure</a> <a href="/tags/layer/" style="font-size: 18px;">layer</a> <a href="/tags/mask/" style="font-size: 10px;">mask</a> <a href="/tags/%E4%BA%8C%E5%80%BC%E5%8C%96/" style="font-size: 10px;">二值化</a> <a href="/tags/%E5%8A%A8%E6%80%81%E5%BA%93/" style="font-size: 10px;">动态库</a> <a href="/tags/%E5%8A%A8%E7%94%BB/" style="font-size: 14px;">动画</a> <a href="/tags/%E6%8E%92%E5%BA%8F/" style="font-size: 10px;">排序</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 12px;">数据结构</a> <a href="/tags/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/" style="font-size: 10px;">版本控制</a> <a href="/tags/%E7%BB%84%E5%90%88%E7%89%B9%E6%95%88/" style="font-size: 10px;">组合特效</a> <a href="/tags/%E7%BD%91%E9%80%9F/" style="font-size: 10px;">网速</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/08/18/iOS-%E5%8A%A8%E6%80%81%E5%BA%93-%E5%BA%94%E7%94%A8%E7%AF%87/">iOS 动态库 应用篇</a>
          </li>
        
          <li>
            <a href="/2019/07/30/Git-%E8%BE%85%E5%AF%BC/">Git 辅导</a>
          </li>
        
          <li>
            <a href="/2019/06/12/iOS-%E5%BC%B9%E5%B9%95%E7%B3%BB%E7%BB%9F%E4%B9%8B%E6%99%BA%E8%83%BD%E5%BC%B9%E5%B9%95-%E5%AD%A6%E4%B9%A0%E7%AF%87/">iOS 弹幕系统之智能弹幕 学习篇</a>
          </li>
        
          <li>
            <a href="/2019/03/04/iOS-Socket-%E5%AD%A6%E4%B9%A0%E7%AF%87/">iOS Socket 学习篇</a>
          </li>
        
          <li>
            <a href="/2019/01/16/iOS-%E7%BB%84%E5%90%88%E7%A4%BC%E7%89%A9%E7%89%B9%E6%95%88/">iOS 组合礼物特效</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 AnakinChen<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>